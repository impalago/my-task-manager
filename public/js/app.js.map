{"version":3,"sources":["app.js","common.js","controllers/boardsCtrl.js","factory/boardsFactory.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["angular.module('app', ['ui.bootstrap']);","/**\n *  Initialize the material design\n */\n$.material.init();","angular.module('app').controller('boardsCtrl', function($scope, boardsFactory, $uibModal) {\n\n    $scope.init = function() {\n        $scope.allBoards();\n        $scope.board = {\n            name: ''\n        };\n    };\n\n    $scope.allBoards = function() {\n        boardsFactory.getBoards()\n            .then(function(rec) {\n                $scope.boards = boardsFactory.boardList;\n            }, function(err) {\n                // error\n            });\n    };\n\n    $scope.createBoard = function() {\n        var modalInstance = $uibModal.open({\n            templateUrl: '/api/boards-create-form',\n            controller: function($scope, $uibModalInstance) {\n                $scope.formTitle = 'Create board';\n                $scope.boardSubmit = function() {\n                    if($scope.boardForm.$valid) {\n                        boardsFactory.createBoard($scope.board)\n                            .then(function() {\n                                $uibModalInstance.close();\n                            });\n                    }\n                };\n                $scope.cancel = function() {\n                    $uibModalInstance.dismiss('cancel');\n                };\n            }\n        });\n\n        modalInstance.result.then(function() {\n            $scope.allBoards();\n        }, function() {\n            // error\n        });\n    };\n\n    $scope.editBoard = function(id) {\n        var modalInstance = $uibModal.open({\n            templateUrl: '/api/boards-create-form',\n            controller: function($scope, $uibModalInstance) {\n                $scope.formTitle = 'Edit board';\n                boardsFactory.editBoard(id)\n                    .then(function(rec) {\n                        var currentBoard = angular.element(document.querySelector('#board_name'));\n                        currentBoard.val(rec.name);\n                        $scope.boardSubmit = function() {\n                            if($scope.boardForm.$valid) {\n                                boardsFactory.updateBoard(id, $scope.board)\n                                    .then(function() {\n                                        $uibModalInstance.close();\n                                    });\n                            }\n                        };\n                    });\n\n                $scope.cancel = function() {\n                    $uibModalInstance.dismiss('cancel');\n                };\n            }\n        });\n\n        modalInstance.result.then(function() {\n            $scope.allBoards();\n        }, function() {\n            // error\n        });\n    };\n\n    $scope.deleteBoard = function(id) {\n        $.confirm({\n            title: 'Are you sure?',\n            content: 'The board to move to a basket!',\n            confirm: function(){\n                boardsFactory.deleteBoard(id)\n                    .then(function(rec) {\n                        $scope.allBoards();\n                    }, function(err) {\n                        // error\n                    });\n            }\n        });\n    };\n\n    $scope.init();\n});","angular.module('app').factory('boardsFactory', function($http, $q) {\n\n    var board = this;\n    board.boardList = {};\n\n    board.getBoards = function() {\n        var defer = $q.defer();\n\n        $http.get('/api/boards')\n            .success(function(rec) {\n                board.boardList = rec;\n                defer.resolve(rec);\n            }).error(function(err, status) {\n                defer.reject(err);\n            });\n\n        return defer.promise;\n    };\n\n    board.createBoard = function(board) {\n        var defer = $q.defer();\n        $http.post('/api/boards', board)\n            .success(function(rec) {\n                defer.resolve(rec);\n            })\n            .error(function(err, status) {\n                defer.reject(err);\n            });\n\n        return defer.promise;\n    };\n\n    board.editBoard = function(id) {\n        var defer = $q.defer();\n        $http.get('/api/boards/' + id + '/edit')\n            .success(function(rec) {\n                defer.resolve(rec);\n            })\n            .error(function(err, status) {\n                defer.reject(err);\n            });\n\n        return defer.promise;\n    };\n\n    board.updateBoard = function(id, board) {\n        var defer = $q.defer();\n        $http.put('/api/boards/' + id, board)\n            .success(function(rec) {\n                defer.resolve(rec);\n            })\n            .error(function(err, status) {\n                defer.reject(err);\n            });\n\n        return defer.promise;\n    };\n\n    board.deleteBoard = function(id) {\n        var defer = $q.defer();\n\n        $http.delete('/api/boards/' + id)\n            .success(function(rec) {\n                defer.resolve(rec);\n            })\n            .error(function(err, status) {\n                defer.reject(err);\n            });\n\n        return defer.promise;\n    };\n\n    return board;\n});"],"sourceRoot":"/source/"}